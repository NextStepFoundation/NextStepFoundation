function degreeFinderListener(){var o="#programFinder";new Vue({el:o,created:function(){var t=this,e=($(o).find(">div.fancySelect").addClass("fancySelect-ProgramFinder"),document.location.href),e=0<=e.indexOf("localhost")||0<=e.indexOf("-dev")?"dev":0<=e.indexOf("-test")||0<=e.indexOf("-stage")?"stage":"live",e="kaplan-programdatabase-"+e;null==sessionStorage.getItem("programs")?$.get("/handlers/solrproxy.ashx?solrurl="+e+'/select/?q=*:*&rows=1000&wt=json&fl=custom_ss_areas_of_study,custom_s_degree,custom_s_degree_extid,custom_i_degree_sortorder&fq=custom_s_table:"Online%20Programs"&fq=custom_s_institution_id:PGU&fq=custom_s_program_enabled:Yes&fq=custom_s_site:"NextStep Foundations"',null,function(e){console.log("Setting data in sessionStorage : programs"),sessionStorage.setItem("programs",JSON.stringify(e)),t.handleData(e)},"json"):(console.log("Getting data from sessionStorage : programs"),e=JSON.parse(sessionStorage.getItem("programs")),t.handleData(e))},mounted:function(){this.$nextTick(function(){$(o).find(">div.fancySelect-ProgramFinder").each(function(){$(this).attr("id")&&!$(this).hasClass("isMenubutton")&&($(this).addClass("isMenubutton"),new Menubutton($(this).find(".fancySelectTitle")[0]).init())})})},data:{selectedLevel:{},selectedInterest:{},levels:[],allInterests:[],allValues:[]},computed:{interests:function(){var t,n;return""==this.selectedLevel.code?this.allInterests:(t=this.selectedLevel.name,(n=this.allValues.filter(function(e){return t==e.custom_s_degree}).map(function(e){if(e.custom_ss_areas_of_study)return{name:e.custom_ss_areas_of_study[0],code:e.custom_ss_areas_of_study[0]}})).filter(function(o,e){var s;return n.some(function(e,t){if(o&&e&&e.name==o.name)return s=t,!0}),s==e}).sort(this.orderByName))}},methods:{handleData:function(e){var t=this,o=t.getDegreeLevel(e.response.docs).sort(t.orderBySortOrder),s=t.getAreasOfStudy(e.response.docs).sort(t.orderByName);t.allValues=e.response.docs,o.unshift({name:"All Program Levels",path:"degree-programs",code:""}),s.unshift({name:"All Interests",code:""}),t.selectedLevel=o[0],t.selectedInterest=s[0],t.levels=o,t.allInterests=s},orderByName:function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:e.name.toUpperCase()>t.name.toUpperCase()?1:0},orderBySortOrder:function(e,t){return e.sortorder<t.sortorder?-1:t.sortorder<e.sortorder?1:0},getAreasOfStudy:function(e){var t=e.map(function(e){if(e.custom_ss_areas_of_study)return{name:e.custom_ss_areas_of_study[0],code:e.custom_ss_areas_of_study[0]}});return t.filter(function(o,e){var s;return t.some(function(e,t){if(o&&e&&e.name==o.name)return s=t,!0}),s==e})},getDegreeLevel:function(e){var t=e.map(function(e){return{name:e.custom_s_degree,code:e.custom_s_degree_extid,sortorder:e.custom_i_degree_sortorder}});return t.filter(function(o,e){var s;return t.some(function(e,t){if(e.name==o.name)return s=t,!0}),s==e})},selectLevel:function(e){this.selectedInterest=this.allInterests[0],this.selectedLevel=e,$("#home-dropmenu-interest-menu li.selected").removeClass("selected")},selectInterest:function(e){this.selectedInterest=e},findPrograms:function(){var e=[/build/gi,/dev/gi,/test/gi,/stage/gi],t=this.selectedInterest.externalPath,o="https://www.purdueglobal.edu/",s=this.selectedLevel.code?"d="+this.selectedLevel.code:"",n=this.selectedInterest.code?"a="+this.selectedInterest.code:"",s="?"+s+(0<s.length&&0<n.length?"&"+n:n);if(document.domain.match("(build|dev|test|stage)")){for(var i in e)if(document.domain.match(e[i])){this.selectedInterest.externalPath="https://concordlawschool-"+document.domain.match(e[i])+"-purdue.mkt.kaplan.com/academic-programs/",o="https://www-"+document.domain.match(e[i])+"-purdueglobal.mkt.kaplan.com/";break}}else this.selectedInterest.externalPath="https://www.concordlawschool.edu/academic-programs/";this.selectedLevel=this.levels[0],this.selectedInterest=this.allInterests[0],window.onpageshow=function(e){e.persisted&&window.location.reload()},o+=this.selectedInterest.path&&(this.selectedInterest.path[this.selectedLevel.code]||this.selectedInterest.path.default)||this.selectedInterest.path||this.selectedLevel.path||"degree-programs",t?window.open(queryStringHandler.append(this.selectedInterest.externalPath)):window.location=queryStringHandler.append(1==s.length?o:o+s)}}})}function doHeaderScrollingOffset(e){$(e).is($("#home-dropmenu-interest, #home-dropmenu-program-level"))&&$(e).is(".open")&&scrollElementToBelowHeader(e)}document.addEventListener("DOMContentLoaded",function(e){degreeFinderListener()}),$(document).click(function(e){var t="open";$(e.target).closest(".fancySelect").length||$(".fancySelect.open").each(function(){$(this).toggleClass(t),($(this).attr("aria-expanded")?$(this):$(this).find("[aria-expanded]")).attr("aria-expanded",$(this).hasClass(t).toString().toLowerCase())})});var Menubutton=function(e){this.domNode=e,this.popupMenu=!1,this.MenuBar=!1,this.hasFocus=!1,this.hasHover=!1,this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})},PopupMenuLinks=(Menubutton.prototype.init=function(){this.domNode.setAttribute("aria-haspopup","true"),this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this)),this.domNode.addEventListener("mouseover",this.handleMouseover.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseout.bind(this));var e=document.getElementById(this.domNode.getAttribute("aria-controls"));e&&(this.popupMenu=new PopupMenuLinks(e,this),this.popupMenu.init())},Menubutton.prototype.handleKeydown=function(e){console.log("Menubutton: handleKeydown");e.currentTarget;var t=!1;switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:case this.keyCode.DOWN:this.popupMenu&&(this.popupMenu.open(),doHeaderScrollingOffset(this.domNode.parentElement),this.popupMenu.setFocusToFirstItem(!0)),t=!0;break;case this.keyCode.UP:this.popupMenu&&(this.popupMenu.open(),doHeaderScrollingOffset(this.domNode.parentElement),this.popupMenu.setFocusToLastItem(!0),t=!0)}t&&(e.stopPropagation(),e.preventDefault())},Menubutton.prototype.handleClick=function(e){console.log("Menubutton: handleClick"),"true"==this.domNode.getAttribute("aria-expanded")?this.popupMenu.close():(this.popupMenu.open(),doHeaderScrollingOffset(this.domNode.parentElement),this.popupMenu.setFocusToFirstItem(!0))},Menubutton.prototype.handleFocus=function(e){console.log("Menubutton: handleFocus"),this.popupMenu.hasFocus=!0},Menubutton.prototype.handleBlur=function(e){console.log("Menubutton: handleBlur"),this.popupMenu.hasFocus=!1},Menubutton.prototype.handleMouseover=function(e){console.log("Menubutton: handleMouseover"),this.hasHover=!0},Menubutton.prototype.handleMouseout=function(e){console.log("Menubutton: handleMouseout"),this.hasHover=!1},Menubutton.prototype.setFocusToNextItem=function(){},Menubutton.prototype.setFocusToPreviousItem=function(){},function(e,t){var o="PopupMenuLinks constructor argument domNode ";!e instanceof Element&&console.log(o+"is not a DOM Element."),0===e.childElementCount&&console.log(o+"has no element children."),this.domNode=e,this.controller=t,this.menuitems=[],this.firstChars=[],this.hasFocus=!1,this.hasHover=!1}),MenuItemLinks=(PopupMenuLinks.prototype.init=function(){var e,t,o;for(console.log("PopupMenuLinks: init"),this.domNode.tabIndex=-1,this.domNode.setAttribute("role","menu"),this.domNode.getAttribute("aria-labelledby")||this.domNode.getAttribute("aria-label")||this.domNode.getAttribute("title")||(o=this.controller.domNode.innerHTML,this.domNode.setAttribute("aria-label",o)),this.domNode.addEventListener("mouseover",this.handleMouseover.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseout.bind(this)),e=this.domNode.firstElementChild;e;)e&&"LI"===e.tagName&&((t=new MenuItemLinks(e,this)).init(),this.menuitems.push(t),t=e.textContent.trim(),this.firstChars.push(t.substring(0,1).toLowerCase())),e=e.nextElementSibling},PopupMenuLinks.prototype.handleMouseover=function(e){console.log("PopupMenuLinks: handleMouseover"),this.hasHover=!0},PopupMenuLinks.prototype.handleMouseout=function(e){console.log("PopupMenuLinks: handleMouseout"),this.hasHover=!1},PopupMenuLinks.prototype.setFocusToController=function(e){"previous"===(e="string"!=typeof e?"":e)?this.controller.setFocusToPreviousItem(this.controller):"next"===e?this.controller.setFocusToNextItem(this.controller):this.controller.domNode.focus()},PopupMenuLinks.prototype.getFirstItem=function(){return $(this.domNode).find(">li:first-of-type")[0]},PopupMenuLinks.prototype.getLastItem=function(){return $(this.domNode).find(">li:last-of-type")[0]},PopupMenuLinks.prototype.setFocusToFirstItem=function(e){var t=this.getFirstItem();for(e&&0<(e=$(this.domNode).find(">li.selected")).length&&(t=e[0]),console.log("PopupMenuLinks: setFocusToFirstItem",t);!$(t).is(":focus");)t.focus()},PopupMenuLinks.prototype.setFocusToLastItem=function(e){var t=this.getLastItem();for(e&&0<(e=$(this.domNode).find(">li.selected")).length&&(t=e[0]),console.log("PopupMenuLinks: setFocusToLastItem",t);!$(t).is(":focus");)t.focus()},PopupMenuLinks.prototype.setFocusToPreviousItem=function(e){var t=$(e.domNode).prev("li[role='menuitem']");for(0==t.length&&(t=$(e.domNode).parent().find("li[role='menuitem']:last-of-type")),console.log("PopupMenuLinks: setFocusToPreviousItem",t);!$(t).is(":focus");)t[0].focus()},PopupMenuLinks.prototype.setFocusToNextItem=function(e){var t=$(e.domNode).next("li[role='menuitem']");for(0==t.length&&(t=$(e.domNode).parent().find("li[role='menuitem']:first-of-type")),console.log("PopupMenuLinks: setFocusToNextItem",t);!$(t).is(":focus");)t[0].focus()},PopupMenuLinks.prototype.setFocusByFirstCharacter=function(e,t){var t=t.toLowerCase(),e=this.menuitems.indexOf(e)+1;e===this.menuitems.length&&(e=0),-1<(e=-1===(e=this.getIndexFirstChars(e,t))?this.getIndexFirstChars(0,t):e)&&this.menuitems[e].domNode.focus()},PopupMenuLinks.prototype.getIndexFirstChars=function(e,t){for(var o=e;o<this.firstChars.length;o++)if(t===this.firstChars[o])return o;return-1},PopupMenuLinks.prototype.open=function(){console.log("PopupMenuLinks: open"),$(this.domNode).closest("#programFinder").find(">.fancySelect.open").each(function(){$(this).removeClass("open"),$(this).find(".fancySelectTitle").attr("aria-expanded","false")}),$(this.controller.domNode).parent().addClass("open"),this.controller.domNode.setAttribute("aria-expanded","true");var e=this;$(this.domNode).find(">li").not(".isMenuItemLink").each(function(){(menuItem=new MenuItemLinks($(this)[0],e)).init()})},PopupMenuLinks.prototype.close=function(e){console.log("PopupMenuLinks: close"),$(this.controller.domNode).parent().removeClass("open"),this.controller.domNode.removeAttribute("aria-expanded")},function(e,t){this.domNode=e,this.menu=t,this.keyCode=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40})});MenuItemLinks.prototype.init=function(){console.log("MenuItemLinks: init"),this.domNode.tabIndex=-1,this.domNode.getAttribute("role")||this.domNode.setAttribute("role","menuitem"),this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this)),this.domNode.addEventListener("mouseover",this.handleMouseover.bind(this)),this.domNode.addEventListener("mouseout",this.handleMouseout.bind(this)),$(this.domNode).addClass("isMenuItemLink")},MenuItemLinks.prototype.handleKeydown=function(e){console.log("MenuItemLinks: handleKeydown"),e.preventDefault(),e.stopPropagation();e.currentTarget;var t=!1,o=e.key;function s(e){return 1===e.length&&e.match(/\S/)}if(!(e.ctrlKey||e.altKey||e.metaKey)){if(e.shiftKey)s(o)&&this.menu.setFocusByFirstCharacter(this,o);else switch(e.keyCode){case this.keyCode.SPACE:case this.keyCode.RETURN:$(this.domNode).trigger("click"),t=!0;break;case this.keyCode.ESC:this.menu.setFocusToController(),this.menu.close(!0),t=!0;break;case this.keyCode.UP:this.menu.setFocusToPreviousItem(this),t=!0;break;case this.keyCode.DOWN:this.menu.setFocusToNextItem(this),t=!0;break;case this.keyCode.HOME:case this.keyCode.PAGEUP:this.menu.setFocusToFirstItem(),t=!0;break;case this.keyCode.END:case this.keyCode.PAGEDOWN:this.menu.setFocusToLastItem(),t=!0;break;case this.keyCode.TAB:this.menu.setFocusToController(),this.menu.close(!0);break;default:s(o)&&this.menu.setFocusByFirstCharacter(this,o)}t&&(e.stopPropagation(),e.preventDefault())}},MenuItemLinks.prototype.handleClick=function(e){console.log("MenuItemLinks: handleClick"),$(this.menu.domNode).find(".selected").removeClass("selected"),$(this.domNode).addClass("selected"),this.menu.setFocusToController("next"),this.menu.close(!0)},MenuItemLinks.prototype.handleFocus=function(e){console.log("MenuItemLinks: handleFocus"),this.menu.hasFocus=!0},MenuItemLinks.prototype.handleBlur=function(e){console.log("MenuItemLinks: handleBlur"),this.menu.hasFocus=!1},MenuItemLinks.prototype.handleMouseover=function(e){console.log("MenuItemLinks: handleMouseover"),this.menu.hasHover=!0},MenuItemLinks.prototype.handleMouseout=function(e){console.log("MenuItemLinks: handleMouseout"),this.menu.hasHover=!1};