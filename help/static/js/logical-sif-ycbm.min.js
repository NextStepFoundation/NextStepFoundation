var scheduleThankYouMsgLoaded=!(YCBMData={aosCodes:["HS","AVIAT","BIZ","COMM","CJ","EDU","FSEM","HUSER","IT","CLS","LS","NUR","PS","PSYC","PPOL","MIL","HMD"],domains:{dev:"purdueglobalpreenrollment-dev",stage:"purdueglobalpreenrollment-stage",prod:"purdueglobalpreenrollment","prod-blue":"purdueglobalpreenrollment-blue","prod-green":"purdueglobalpreenrollment-green"},partnerDomains:{dev:"purdueglobal-partnerships-dev",stage:"purdueglobal-partnerships-stage",prod:"purdueglobalpreenrollment-partnerships","prod-blue":"purdueglobalpreenrollment-partnerships-blue","prod-green":"purdueglobalpreenrollment-partnerships-green"}});function ycbmReady(){try{var e;$("#schedule-appt").length&&(e=$("#sifform-program").val(),appendYCBMEvents(),linkBrouchersByPrograms(e))}catch(e){console.log(e.message)}}function appendBookingSchedule(){var e=getYCBMDomain(),o=document.createElement("script");o.async=!0,o.setAttribute("src","https://embed.youcanbook.me"),o.setAttribute("data-domain",e),o.setAttribute("data-autoscroll",""),o.onload=function(){var e=$("#ycbm-content iframe").attr("src");$("#ycbm-content iframe").attr("src",e+getIframeSourceURL()),showElement("#iframeLoader",!1),setApplyNowHref()},document.getElementById("ycbm-content").appendChild(o)}function getIframeSourceURL(){var e=$("#sifform-fname").val(),o=$("#sifform-lname").val(),r=$("#sifform-email").val(),t=$("#hidStudentID").val(),n=$("#sifform-country").length&&"United States"!=$("#sifform-country").val(),a=$("#sifform-phone").val();return"&FNAME="+e+"&LNAME="+o+"&EMAIL="+r+"&PHONE="+("%2B"+(n?$("#sifform-country-phone").val():"1"))+a+("true"==$("#isYCBMEnabledForEls").val()?"&SOURCEAPP=ELS":"&SOURCEAPP=PG")+(null!=t&&""!=t?"&SYSTUDENTID="+t:"")}function setApplyNowHref(){var e=$("a[href^='/enrollment-application']");queryStringHandler.linkHrefQSPUpdater(e,"AreaStudy",$("#sifform-area").val()),queryStringHandler.linkHrefQSPUpdater(e,"Program",$("#sifform-program").val())}function doOnError(e,o){var r="",r=0===e.status?"Not connect.\n Verify Network.":404==e.status?"[404] - Requested page not found.":500==e.status?"[500] - Internal Server Error.":"parsererror"===o?"Requested JSON parse failed.":"timeout"===o?"Time out error.":"abort"===o?"Ajax request aborted.":"Uncaught Error.\n"+e.responseText;console.log(r)}function doOnSuccess(e){try{var o;null!=e&&void 0!==(o=JSON.parse(e)).SyStudentID&&$("#hidStudentID").val(o.SyStudentID)}catch(e){console.log(e.message)}}function showYCBMForm(){try{removeStaticFooter(),0==$("#ycbm-content iframe").length&&appendBookingSchedule(),showElement("#ycbm-content",!0,"block")}catch(e){console.log(e.message)}}function appendYCBMEvents(){$("#schedule-appt .schedule-btn").on("click",function(e){try{e.preventDefault(),showElement("#schedule-appt",!1),showElement("#booking-content, #iframeLoader",!0,"block");var o=null!=$("#leadimportid").val()?$("#leadimportid").val():"";$.ajax({url:"/api/ycbm/"+o+"/",type:"GET",success:function(e){doOnSuccess(e)},error:function(e,o){doOnError(e,o)}}).always(function(e,o){showYCBMForm()})}catch(e){console.log(e.message),showYCBMForm()}}),$("#schedule-appt .skip-link").on("click",function(e){try{e.preventDefault(),removeStaticFooter(),showElement("#schedule-appt",!1),showElement("#thank-you",!0,"block")}catch(e){console.log(e.message)}}),$("#schedule-appt .schedule-btn, #schedule-appt .skip-link").on("keypress",function(e){try{32!=e.charCode&&13!=e.keyCode||$(this).click()}catch(e){console.log(e.message)}})}function doForYCBMPrograms(){try{ycbmReady(),showElement("#requestInfoForm",!1,"none"),showElement("#schedule-appt",!0,"block"),setStaticFooter(),$(window).scrollTop(0)}catch(e){console.log(e.message)}}function getYCBMDomain(){var e=$("#isYCBMEnabledForEls").val(),o=getYCBMEnvironment();return("true"==e?YCBMData.partnerDomains:YCBMData.domains)[o]}function getYCBMEnvironment(){var e=location.hostname.toLowerCase();return-1!=e.indexOf("-dev-")||-1!=e.indexOf("-test-")||-1!=e.indexOf("localhost")?"dev":-1!=e.indexOf("-stage-")?"stage":-1!=e.indexOf("-blue-")?"prod-blue":-1!=e.indexOf("-green-")?"prod-green":"prod"}function linkBrouchersByPrograms(o){var e;$("#append_broucher_link").length&&o&&void 0!==(e=programGuideLinkData.find(function(e){return e.programCode.toLowerCase()==o.toLowerCase()}))&&($("#append_broucher_link")[0].href="https://"+window.location.host+e.documentLink)}